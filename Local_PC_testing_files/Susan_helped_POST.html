<!-- This file is used to test the .post() function as a local file
The target is http://ec2-52-24-231-219.us-west-2.compute.amazonaws.com/ajaxll.php.
It works very well.
This line in remote PHP file is required to allow post access in Amazon Web Services:
header("Access-Control-Allow-Origin: *");

Susan Liu (LIU Zhonghong) helped to figure out.
-- Duan Liu, 2016-Feb
-->
<html>
<head>
<title>Welcome!</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
</head>

<body>
<h1>Search our Phone Directory</h1>
 
 <form action="http://ec2-52-24-231-219.us-west-2.compute.amazonaws.com/BMDS_execution.php" method="post">
  First name: <input type="text" name="fname"><br>
  Last name: <input type="text" name="lname"><br>
  <input type="submit" value="Submit">
</form> 
    
<button id="BMDS_run_diverge_2" class="btn btn-large btn-primary">Test Run BMDS 2</button>
</body>
</html>

<script type='text/javascript'>
$(document).ready(function(){


var submittion_str = {
    "models": [
        {   
            "id": 31,
            "model_name": "LogLogistic",
            "dfile": "LogLogistic\nBMDS_Model_Run\ntest\noutput.out\n5\n250 1e-08 1e-08 0 1 1 1 0 0\n0.1 0 0.95\n-9999 -9999 -9999\n0\n-9999 -9999 -9999\nDose Incidence NEGATIVE_RESPONSE\n0.000000 0 20\n50.000000 0 20\n150.000000 3 17\n250.000000 6 14\n350.000000 6 14\n"
        },
        {   
            "id": 32,
            "model_name": "LogLogistic",
            "dfile": "LogLogistic\nBMDS_Model_Run\ntest\noutput.out\n5\n250 1e-08 1e-08 0 1 1 1 0 0\n0.1 0 0.95\n-9999 -9999 -9999\n0\n-9999 -9999 -9999\nDose Incidence NEGATIVE_RESPONSE\n0.000000 0 20\n50.000000 0 20\n150.000000 3 17\n250.000000 6 14\n350.000000 6 14\n"
        }
    ]
};

var submittion = {"submittion" : 59};
$("#BMDS_run_diverge_2").click(function(e){
	alert("Clicked");
  	$.post("http://ec2-52-24-231-219.us-west-2.compute.amazonaws.com/BMDS_execution.php", submittion, 		
  		function(data){
   			alert("Success, data = " + data);
			window.location = "http://ec2-52-24-231-219.us-west-2.compute.amazonaws.com/BMDS_execution.php";       
		}
	)})
   	

})
</script>